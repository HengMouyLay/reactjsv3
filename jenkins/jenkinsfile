pipeline{
    agent any;  
    stages{
        stage('Get Resource from git'){
            steps{
                git branch: 'main', url: 'https://github.com/HengMouyLay/reactjsv3.git'
            }
        }
       
       stage('Build Docker Image') {
            steps {
                script {
                    docker.build('username/repository:1.0')
                }
            }
        }
   stage('Push Docker Image') {
            steps {
                script {
                    docker.withRegistry('https://index.docker.io/v1/', dockerhub) {
                        docker.image('username/repository:1.0').push()
                    }
                }
            }
    }
    }
}
